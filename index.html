
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">
  <link rel="stylesheet" type="text/css" href="./css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="./css/style.css">  
  <script type="text/javascript" src="./js/jquery-3.2.1.slim.min.js"></script>
  <script type="text/javascript" src="./js/popper.min.js"></script>
  <script type="text/javascript" src="./js/bootstrap.min.js"></script>
  <script type="text/javascript" src="./js/fontawesome-loader.js"></script>
  <title>CatGen by thejordanprice</title>
  <script type='text/javascript'>
  /*
  * Init everything onload.
  */ 
  window.onload=function(){

  'use strict';

  /*
  * The hook into the DOM.
  */
  const response_div = document.getElementById('response');

  /*
  * Our variables for all our possible cats.
  */
  const names = ["Ashes", "Tiger", "Puss", "Smokey", "Misty", "Tigger", "Kitty", "Oscar", "George", "Larry", "Lily", "Angel", "Coco", "Max", "Sam", "Ginger", "Ghost", "Benjamin", "Blondie", "James", "Vader", "Snuggles", "Princess", "Powder", "Gato"];
  const colors = ["Black", "Brown", "Orange", "Tan", "White", "Brindle", "Grey", "White and Black", "Tan and Brown", "Brown and Black", "White and Brindle", "Brown and Grey", "Orange and White"];
  const species = ["Abyssinian", "Siamese", "Persian", "American Shorthair", "Ragdoll", "Burmese", "Maine Coon", "Charteux", "Bengal", "Manx", "Sphynx"];
  const personalities = ["Friendly", "Hostile", "Cuddly", "Playful", "Attack Cat", "Snuggle Butt"];
  const lives = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];

  /*
  * Select a random object from an array.
  */
  const select = function(array, callback) {
    let selected = array[Math.floor(Math.random() * array.length)];
    callback(selected);
  };

  /*
  * Calculate a random weight.
  */
  const calcWeight = function(min, max, callback) {
    let weight = Math.floor(Math.random() * max) + min + " lbs.";
    callback(weight);
  };

  /*
  * Generate an example ID.
  */
  const generateId = function(callback) {
    let id = Math.random().toString(32).substr(2, 32);
    callback(id);
  };

  /*
  * A single cat generator from desired options.
  */
  const catGenerator = function(callback) {
    let cat = [];
    // Generate an ID
    generateId(function(id) {
      cat.id = id;
    });
    // Select the name.
    select(names, function(name) {
      cat.name = name;
    });
    // Select the species.
    select(species, function(species) {
      cat.species = species;
    });
    // Select lives.
    select(lives, function(life) {
      cat.lives = life;
      if (life !== 0) {
        cat.alive = true;
      } else {
        cat.alive = false;
      };
    });
    // Select the colors.
    select(colors, function(color) {
      cat.color = color;
    });
    // Select the personality.
    select(personalities, function(personality) {
      cat.personality = personality;
    });
    // Run the weight calculator.
    calcWeight(5, 35, function(weight) {
      cat.weight = weight;
    });
    callback(cat);
  };

  /*
  * A cat factory that can produce ANY amount of cats.
  * Note: Cats were pushed; not hurt.
  */
  const catFactory = function(amount, callback) {
    let cats = [];
    for (let x = 0; amount > x; x++) {
      catGenerator(function(cat) {
        let oneCat = {
          "id": cat.id,
          "data": {
            "name": cat.name,
            "species": cat.species,
            "alive": {
              "value": cat.alive,
              "lives": cat.lives,
            },
            "personality": cat.personality,
            "color": cat.color,
            "weight": cat.weight,
          },
        };
        cats.push(oneCat);
      });
    };
    callback(cats);
  };

  /*
  * Event listener for onclick of the generate button to invoke the factory.
  */
  document.getElementById('generate').addEventListener("click", function() {
    let amount = document.getElementById('amount').value.toString();
    if (amount > 9000 || amount == 0) {
      response_div.innerHTML = '<div class="alert alert-warning"><strong>Roaawrr!</strong> Stay between 1 and 9000.</div>';
    } else {
      catFactory(amount, function(cats) {
        // Check your console.
        console.dir(cats);
        // Send to DOM 
        response_div.innerHTML = JSON.stringify(cats, null, 2);
        // Exit / return what we had.
        return cats;
      });
    };
  });

  /*
  * Event listener for onclick of the clear button to destroy the log.
  */
  document.getElementById('destroy').addEventListener("click", function() {
      response_div.innerHTML = '<div class="alert alert-primary"><strong>Yay!</strong> Log purged.</div>';
  });

  };
  //EOL
  </script>
</head>
<body>
  <!-- Start the body and navigation. -->
  <nav class='navbar navbar-expand-lg navbar-dark bg-dark'>
  <a class='navbar-brand' href='#' target='_top'><i class='fa fa-paw' aria-hidden='true'></i> CatGen</a>
  <button class='navbar-toggler' type='button' data-toggle='collapse' data-target='#navbarSupportedContent' aria-controls='navbarSupportedContent' aria-expanded='false' aria-label='Toggle navigation'>
    <span class='navbar-toggler-icon'></span>
  </button>
  <div class='collapse navbar-collapse' id='navbarSupportedContent'>
    <ul class='navbar-nav mr-auto'>
      <li class='nav-item active'>
        <a class='nav-link' href='#' target='_top'><i class='fa fa-home' aria-hidden='true'></i> Home</a>
      </li>
      <li class='nav-item'>
        <a class='nav-link' href='https://github.com/thejordanprice' target='_top'><i class='fa fa-github' aria-hidden='true'></i> Github</a>
      </li>
      <li class='nav-item'>
        <a class='nav-link disabled' href='#'><i class='fa fa-user' aria-hidden='true'></i> thejordanprice</a>
      </li>
    </ul>
  </div>
</nav>
<br />
<div class='container'>
  <div class='centered'>
    <h5>Meow.</h5>
  </div>
  <br />
  <form class='form-inline'>
    <div class='input-group' id='generate-input-group'>
      <input type='text' class='form-control' id='amount' placeholder='How many would you like?'>
      <span class='input-group-btn'>
        <button type='button' id='generate' class='btn btn-primary'><i class='fa fa-cogs' aria-hidden='true'></i></button>
      </span>
      <span class='input-group-btn'>
        <button type='button' id='destroy' class='btn btn-danger'><i class='fa fa-trash' aria-hidden='true'></i></button>
      </span>
    </div>
  </form>
  <small id='response-description'></small>
  <br />
  <pre id='response'></pre>
  <div class='centered'>
    <p class='text-muted'>Note: Check the JavaScript console.</p>
  </div>
</div>
<footer class='footer'>
  <div class='container'>
    <div class='site-footer'>
      <p class='love'>made with <i class='fa fa-heart' aria-hidden='true'></i> by <a href='https://github.com/thejordanprice' target='_top'>thejordanprice</a></p>
    </div>
  </div>
</footer>
</body>
</html>